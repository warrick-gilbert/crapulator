import { clemFunction, updateResultWindow } from "./main";

export const buttonRow1 = [
  {
    ID: "clem",
    symbol: "clem",
    buttonColour: "darkGrey",
    particularFunction: "clemFunction",
  },
  {
    ID: "sigh",
    symbol: "sigh",
    buttonColour: "darkGrey",
    particularFunction: "sighFunction",
  },
  {
    ID: "ennui",
    symbol: "ennui",
    buttonColour: "darkGrey",
    particularFunction: "ennuiFunction",
  },
  {
    ID: "mc",
    symbol: "mc",
    buttonColour: "darkGrey",
    particularFunction: "handleMemoryDeleteClick2",
  },
  {
    ID: "m+",
    symbol: "m+",
    buttonColour: "darkGrey",
    particularFunction: "handleMemoryPlusClick2",
  },
  {
    ID: "mr",
    symbol: "mr",
    buttonColour: "darkGrey",
    particularFunction: "handleMemoryRecallClick2",
  },
  {
    ID: "AC",
    symbol: "AC",
    buttonColour: "lightGrey",
    particularFunction: "clearFunction",
  },
  {
    ID: "plusMinus",
    symbol: "±",
    buttonColour: "lightGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "percentage",
    symbol: "%",
    buttonColour: "lightGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "plus",
    symbol: "÷",
    buttonColour: "orange",
    particularFunction: "dividingFunction",
  },
];
export const buttonRow2 = [
  {
    ID: "2nd",
    symbol: "2nd",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "x2",
    symbol: "x2",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "x3",
    symbol: "x3",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "xy",
    symbol: "xy",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "ex",
    symbol: "ex",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "flan",
    symbol: "flan",
    buttonColour: "darkGrey",
    particularFunction: "flanFunction",
  },
  {
    ID: "7",
    symbol: "7",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "8",
    symbol: "8",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "9",
    symbol: "9",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "multiply",
    symbol: "✕",
    buttonColour: "orange",
    particularFunction: "multiplyingFunction",
  },
];
export const buttonRow3 = [
  {
    ID: "21",
    symbol: "2nd",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "22",
    symbol: "x2",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "23",
    symbol: "x3",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "24",
    symbol: "xy",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "25",
    symbol: "ex",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "26",
    symbol: "10x",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "4",
    symbol: "4",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "5",
    symbol: "5",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "6",
    symbol: "6",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "minus",
    symbol: "–",
    buttonColour: "orange",
    particularFunction: "subtractingFunction",
  },
];
export const buttonRow4 = [
  {
    ID: "31",
    symbol: "2nd",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "32",
    symbol: "x2",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "33",
    symbol: "x3",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "34",
    symbol: "xy",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "35",
    symbol: "ex",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "36",
    symbol: "10x",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "1",
    symbol: "1",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "2",
    symbol: "2",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "3",
    symbol: "3",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "plus",
    symbol: "+",
    buttonColour: "orange",
    particularFunction: "addingFunction",
  },
];
export const buttonRow5 = [
  {
    ID: "41",
    symbol: "2nd",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "42",
    symbol: "x2",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "43",
    symbol: "x3",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "44",
    symbol: "xy",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "45",
    symbol: "ex",
    buttonColour: "darkGrey",
    particularFunction: "addingFunction",
  },
  {
    ID: "Rand",
    symbol: "Rand",
    buttonColour: "darkGrey",
    particularFunction: "randomFunction",
  },
  {
    ID: "0",
    symbol: "0",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "00",
    symbol: "0",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "decimalPoint",
    symbol: ".",
    buttonColour: "grey",
    particularFunction: "numberFunction",
  },
  {
    ID: "equals",
    symbol: "=",
    buttonColour: "orange",
    particularFunction: "equalFunction",
  },
];

// console.log("this happened from module-button.js");
export function buildRow(arrayOfButtons, rowToMake) {
  // builds a row of buttons
  // create a new row
  const newRow = document.createElement("div"); // Create a div node to hold the new row:
  newRow.id = rowToMake; // give an id to the row we've made
  document.querySelector("#buttonGrid").appendChild(newRow); // Append the node

  //   now fill this row with buttons
  for (let i = 0; i < arrayOfButtons.length; i++) {
    const newButton = document.createElement("div"); // Create a div node:
    newButton.classList.add("button"); // give it the class "button"

    let buttonText = arrayOfButtons[i].symbol; // pull the symbol out of the array
    const textnode = document.createTextNode(buttonText); // Create a text node with the buttonText
    newButton.appendChild(textnode); // Append the text node to the "div" node:

    let buttonColour = arrayOfButtons[i].buttonColour; // pull the colour out of the array
    newButton.classList.add(buttonColour); // add it to the button,

    let buttonID = arrayOfButtons[i].ID; // pull the button id out of the array
    newButton.setAttribute("id", buttonID);

    // adds the particular function to the button
    let buttonFunction = `${arrayOfButtons[i].particularFunction}`;
    // console.log(`buttonFunction is of type ${typeof buttonFunction}`);
    // console.log(typeof numberFunction);
    // console.log(`buttonFunction is: ${buttonFunction}`);

    newButton.addEventListener("click", eval(buttonFunction)); // works but poor practise?

    if (buttonFunction === "numberFunction") {
      newButton.addEventListener("click", eval(buttonFunction)); // works but poor practise?
      // add the number as a property (?) of the newButton object
      //   console.log(`newButton is of type ${typeof newButton}`);
      newButton.myParam = arrayOfButtons[i].symbol;
    } else {
      //   console.log(`buttonFunction is: ${buttonFunction}`);
      //   console.log(`window[buttonFunction] is: ${window[buttonFunction]}`);

      newButton.addEventListener("click", eval(buttonFunction)); // works but poor practise?
    }
    // Append the node to the newRow
    document.querySelector("#" + rowToMake).appendChild(newButton);
  }
}
